<%- include('../../partials/head.ejs'); -%>

<%- include('../../partials/navbar.ejs'); -%>	

	<div class="container">
		<br>
		<div class="card">
			<div class="card-header">
				<h2>Edição de Artigo</h2>
			</div>
			<div class="card-body">
				<form method="post" action="/articles/update">
					<input class="form-control" type="text" name="title" value="<%= article.title %>">
					<br>
					<textarea id="article" class="form-control" name="body" ><%- article.body %></textarea>
					<input type="hidden" name="id" value="<%= article.id %>">
					<br>
					<select name="category" class="form-control">
						<% categories.forEach(category =>{ %>
							<% if(category.id == article.categoryId) { %>
								<option value="<%=category.id%>" selected><%=category.title%></option>
							<% }else{ %>
								<option value="<%=category.id%>"><%=category.title%></option>
							<% } %>
						
						<% }); %>
					</select>
					<br>
					<button class="btn btn-success">Atualizar</button>
				</form>
			</div>		
		</div>
	</div>	


<%- include('../../partials/footer.ejs'); -%>

<script src="/tinymce/tinymce.min.js"></script><!--Importando editor na pasta public-->
<script>//configurando tynymce
	tinymce.init({
		language: 'pt_BR',//baixar em https://www.tiny.cloud/get-tiny/language-packages/ e colar na pasta langs
		selector: "#article",//id da textarea a ser utilizada
		plugins: [
			'advlist autolink link image lists print preview hr searchreplace wordcount fullscreen insertdatetime media save table paste emoticons'
		]//plugins com mais funcionalidades
	})
</script>
